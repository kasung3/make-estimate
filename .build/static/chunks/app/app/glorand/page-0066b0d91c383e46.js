(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{5822:function(e,s,a){Promise.resolve().then(a.bind(a,1668))},1668:function(e,s,a){"use strict";a.d(s,{GlorandAdminClient:function(){return el}});var t=a(5444),r=a(9300),l=a(7367),n=a(2422),i=a(4678),c=a(4635),d=a(9827),o=a(489),m=a(9530),x=a(9095),u=a(2371),p=a(3485),h=a(5522);let j=x.fC;x.xz,x.x8;let f=x.h_,g=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(x.aV,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));g.displayName=x.aV.displayName;let v=(0,u.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),N=r.forwardRef(({side:e="right",className:s,children:a,...r},l)=>(0,t.jsxs)(f,{children:[(0,t.jsx)(g,{}),(0,t.jsxs)(x.VY,{ref:l,className:(0,h.cn)(v({side:e}),s),...r,children:[a,(0,t.jsxs)(x.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));N.displayName=x.VY.displayName;let y=({className:e,...s})=>(0,t.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});y.displayName="SheetHeader";let b=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(x.Dx,{ref:a,className:(0,h.cn)("text-lg font-semibold text-foreground",e),...s}));b.displayName=x.Dx.displayName;let w=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(x.dk,{ref:a,className:(0,h.cn)("text-sm text-muted-foreground",e),...s}));w.displayName=x.dk.displayName;var C=a(1335),k=a(6765),P=a(9062),Z=a(9484),S=a(4624),A=a(2019),F=a(5077),U=a(3648),B=a(5076),z=a(1946),R=a(6886),M=a(8510),T=a(5012),_=a(8082),O=a(1137),L=a(3572),D=a(347),E=a(9429),$=a(9904),I=a(3705),q=a(7248),Q=a(7386),V=a(2235),G=a(1509),K=a(3394),J=a(691),Y=a(362),H=a(1804),W=a(2205),X=a(6136),ee=a(1540),es=a(563),ea=a(4611),et=a(179),er=a(6167);function el({adminEmail:e}){let[s,a]=(0,r.useState)("users"),[x,u]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[g,v]=(0,r.useState)([]),[W,X]=(0,r.useState)([]),[ee,es]=(0,r.useState)(!0),[el,ei]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)({page:1,limit:20,totalCount:0,totalPages:0}),[eo,em]=(0,r.useState)(null),[ex,eu]=(0,r.useState)(!1),[ep,eh]=(0,r.useState)({name:"",priceMonthlyUsdCents:0,priceAnnualUsdCents:"",boqLimitPerPeriod:"",boqTemplatesLimit:"",coverTemplatesLimit:"",features:[],isMostPopular:!1,sortOrder:0,active:!0}),[ej,ef]=(0,r.useState)(""),[eg,ev]=(0,r.useState)(!1),[eN,ey]=(0,r.useState)(null),[eb,ew]=(0,r.useState)(null),[eC,ek]=(0,r.useState)(""),[eP,eZ]=(0,r.useState)(""),[eS,eA]=(0,r.useState)(""),[eF,eU]=(0,r.useState)(""),[eB,ez]=(0,r.useState)(""),[eR,eM]=(0,r.useState)(""),[eT,e_]=(0,r.useState)("newest"),[eO,eL]=(0,r.useState)(null),[eD,eE]=(0,r.useState)(null),[e$,eI]=(0,r.useState)(!1),[eq,eQ]=(0,r.useState)(!1),[eV,eG]=(0,r.useState)(!1),[eK,eJ]=(0,r.useState)(null),[eY,eH]=(0,r.useState)(""),[eW,eX]=(0,r.useState)(!0),[e0,e4]=(0,r.useState)(!1),[e1,e2]=(0,r.useState)(null),[e3,e5]=(0,r.useState)(""),[e6,e8]=(0,r.useState)(!1),[e9,e7]=(0,r.useState)(null),[se,ss]=(0,r.useState)("business"),[sa,st]=(0,r.useState)(!1),[sr,sl]=(0,r.useState)({code:"",type:"trial_days",trialDays:14,allowedPlans:[],maxRedemptions:"",expiresAt:""}),[sn,si]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>{eA(eP)},300);return()=>clearTimeout(e)},[eP]),(0,r.useEffect)(()=>{"users"===s&&sc()},[s,eS,eF,eB,eR,eT,ec.page]),(0,r.useEffect)(()=>{"coupons"===s?sd():"companies"===s?so():"plans"===s&&sm()},[s]);let sc=async()=>{es(!0);try{let e=new URLSearchParams({page:ec.page.toString(),limit:ec.limit.toString(),sortBy:eT});eS&&e.set("query",eS),eF&&e.set("plan",eF),eB&&e.set("status",eB),eR&&e.set("blocked",eR);let s=await fetch(`/api/admin/users?${e}`);if(!s.ok)throw Error("Failed to fetch");let a=await s.json();u(a.users||[]),ed(a.pagination)}catch(e){ea.ZP.error("Failed to load users")}finally{es(!1)}},sd=async()=>{es(!0);try{let e=await fetch("/api/admin/coupons");if(!e.ok)throw Error("Failed to fetch");let s=await e.json();f(s.coupons||[])}catch(e){ea.ZP.error("Failed to load coupons")}finally{es(!1)}},so=async()=>{es(!0);try{let e=await fetch("/api/admin/accounts?type=companies");if(!e.ok)throw Error("Failed to fetch");let s=await e.json();v(s.companies||[])}catch(e){ea.ZP.error("Failed to load companies")}finally{es(!1)}},sm=async()=>{ei(!0);try{let e=await fetch("/api/admin/plans");if(!e.ok)throw Error("Failed to fetch");let s=await e.json();X(s||[])}catch(e){ea.ZP.error("Failed to load billing plans")}finally{ei(!1)}},sx=e=>{em(e),eh({name:e.name,priceMonthlyUsdCents:e.priceMonthlyUsdCents,priceAnnualUsdCents:e.priceAnnualUsdCents??"",boqLimitPerPeriod:e.boqLimitPerPeriod??"",boqTemplatesLimit:e.boqTemplatesLimit??"",coverTemplatesLimit:e.coverTemplatesLimit??"",features:e.features||[],isMostPopular:e.isMostPopular||!1,sortOrder:e.sortOrder,active:e.active}),ef(""),eu(!0)},su=async()=>{if(eo){ev(!0);try{let e=await fetch(`/api/admin/plans/${eo.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ep.name,priceMonthlyUsdCents:ep.priceMonthlyUsdCents,priceAnnualUsdCents:""===ep.priceAnnualUsdCents?null:Number(ep.priceAnnualUsdCents),boqLimitPerPeriod:""===ep.boqLimitPerPeriod?null:Number(ep.boqLimitPerPeriod),boqTemplatesLimit:""===ep.boqTemplatesLimit?null:Number(ep.boqTemplatesLimit),coverTemplatesLimit:""===ep.coverTemplatesLimit?null:Number(ep.coverTemplatesLimit),features:ep.features,isMostPopular:ep.isMostPopular,sortOrder:ep.sortOrder,active:ep.active})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to update plan")}ea.ZP.success("Plan updated successfully");let s=eo.priceMonthlyUsdCents!==ep.priceMonthlyUsdCents,a=(eo.priceAnnualUsdCents??"")!==ep.priceAnnualUsdCents;(s||a)&&ea.ZP.success("New Stripe price(s) created for updated amounts",{duration:5e3}),eu(!1),sm()}catch(e){ea.ZP.error(e.message||"Failed to update plan")}finally{ev(!1)}}},sp=()=>{ej.trim()&&(eh(e=>({...e,features:[...e.features,ej.trim()]})),ef(""))},sh=e=>{eh(s=>({...s,features:s.features.filter((s,a)=>a!==e)}))},sj=e=>{ey(e)},sf=(e,s)=>{if(e.preventDefault(),null===eN||eN===s)return;let a=[...ep.features],t=a[eN];a.splice(eN,1),a.splice(s,0,t),eh(e=>({...e,features:a})),ey(s)},sg=()=>{ey(null)},sv=e=>{ew(e),ek(ep.features[e])},sN=()=>{if(null===eb)return;let e=eC.trim();e&&eh(s=>({...s,features:s.features.map((s,a)=>a===eb?e:s)})),ew(null),ek("")},sy=()=>{ew(null),ek("")},sb=async e=>{eI(!0);try{let s=await fetch(`/api/admin/users/${e}`);if(!s.ok)throw Error("Failed to fetch");let a=await s.json();eE(a)}catch(e){ea.ZP.error("Failed to load user details")}finally{eI(!1)}},sw=e=>{eL(e),eQ(!0),sb(e.id)},sC=(e,s,a,t)=>{eJ({type:e,id:s,name:a,isBlocked:t}),eH(""),eX(!0),eG(!0)},sk=async()=>{if(eK)try{let e="user"===eK.type?`/api/admin/users/${eK.id}/${eK.isBlocked?"unblock":"block"}`:`/api/admin/companies/${eK.id}/${eK.isBlocked?"unblock":"block"}`;if(!(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blockReason:eK.isBlocked?void 0:eY,cancelSubscription:eK.isBlocked?void 0:eW})})).ok)throw Error("Failed to update");ea.ZP.success(eK.isBlocked?"Unblocked successfully":"Blocked successfully"),eG(!1),"user"===eK.type?sc():so(),eO&&sb(eO.id)}catch(e){ea.ZP.error("Failed to update block status")}},sP=e=>{e2(e),e5(""),e4(!0)},sZ=async e=>{if(e1)try{let s=await fetch(`/api/admin/users/${e1.id}/password-reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e})}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed");"generate_link"===e&&a.resetLink&&e5(a.resetLink),ea.ZP.success(a.message),sc(),eO&&sb(eO.id)}catch(e){ea.ZP.error(e.message||"Failed to process password reset")}},sS=e=>{navigator.clipboard.writeText(e),ea.ZP.success("Copied to clipboard")},sA=(e,s,a)=>{e7({companyId:e,companyName:s,hasGrant:a}),ss("business"),e8(!0)},sF=async()=>{if(e9)try{let e=e9.hasGrant?`/api/admin/companies/${e9.companyId}/revoke-free-forever`:`/api/admin/companies/${e9.companyId}/grant-free-forever`,s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:se})}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed");ea.ZP.success(a.message),e8(!1),sc(),so(),eO&&sb(eO.id)}catch(e){ea.ZP.error(e.message||"Failed to update free access")}},sU=async e=>{if(confirm("Are you sure you want to remove the coupon/discount from this company?"))try{let s=await fetch(`/api/admin/companies/${e}/remove-coupon`,{method:"POST",headers:{"Content-Type":"application/json"}}),a=await s.json();if(!s.ok)throw Error(a.error||"Failed");ea.ZP.success(a.message),sc(),eO&&sb(eO.id)}catch(e){ea.ZP.error(e.message||"Failed to remove coupon")}},sB=async()=>{if(!sr.code.trim()){ea.ZP.error("Coupon code is required");return}si(!0);try{let e=await fetch("/api/admin/coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:sr.code,type:sr.type,trialDays:"trial_days"===sr.type?sr.trialDays:void 0,allowedPlans:sr.allowedPlans.length>0?sr.allowedPlans:void 0,maxRedemptions:sr.maxRedemptions?parseInt(sr.maxRedemptions):void 0,expiresAt:sr.expiresAt||void 0})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to create");ea.ZP.success("Coupon created!"),st(!1),sl({code:"",type:"trial_days",trialDays:14,allowedPlans:[],maxRedemptions:"",expiresAt:""}),sd()}catch(e){ea.ZP.error(e.message||"Failed to create coupon")}finally{si(!1)}},sz=async e=>{try{if(!(await fetch(`/api/admin/coupons/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!e.active})})).ok)throw Error("Failed to update");ea.ZP.success(e.active?"Coupon disabled":"Coupon enabled"),sd()}catch(e){ea.ZP.error("Failed to update coupon")}},sR=async e=>{try{if(!(await fetch(`/api/admin/coupons/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:!0,active:!1})})).ok)throw Error("Failed to archive");ea.ZP.success("Coupon archived"),sd()}catch(e){ea.ZP.error("Failed to archive coupon")}},sM=async e=>{if(e.currentRedemptions>0){ea.ZP.error("Cannot delete used coupons. Archive instead.");return}if(confirm(`Delete coupon "${e.code}"? This cannot be undone.`))try{let s=await fetch(`/api/admin/coupons/${e.id}`,{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete")}ea.ZP.success("Coupon deleted"),sd()}catch(e){ea.ZP.error(e.message||"Failed to delete coupon")}},sT=h.filter(e=>!e.archived),s_=h.filter(e=>e.archived),sO=e=>{let s=e.billing;return s?"admin_grant"===s.accessOverride||"free_forever"===s.accessOverride?(0,t.jsxs)(C.C,{className:"text-xs bg-purple-100 text-purple-800",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3 mr-1"}),"Admin Grant"]}):"business"===s.planKey?(0,t.jsx)(C.C,{className:"text-xs bg-blue-100 text-blue-800",children:"Business"}):"starter"===s.planKey?(0,t.jsx)(C.C,{className:"text-xs bg-green-100 text-green-800",children:"Starter"}):(0,t.jsx)(C.C,{variant:"outline",className:"text-xs",children:"No Plan"}):(0,t.jsx)(C.C,{variant:"outline",className:"text-xs",children:"No Plan"})},sL=e=>e?(0,t.jsx)(C.C,{className:`text-xs ${{active:"bg-green-100 text-green-800",trialing:"bg-yellow-100 text-yellow-800",past_due:"bg-red-100 text-red-800",canceled:"bg-gray-100 text-gray-800",incomplete:"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800"}`,children:e}):(0,t.jsx)(C.C,{variant:"outline",className:"text-xs",children:"None"});return(0,t.jsx)(l.AppLayout,{children:(0,t.jsxs)("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(Z.Z,{className:"h-8 w-8 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Platform Admin"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Logged in as ",e]})]})]}),(0,t.jsxs)(k.mQ,{value:s,onValueChange:a,children:[(0,t.jsxs)(k.dr,{className:"mb-6",children:[(0,t.jsxs)(k.SP,{value:"users",className:"gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4"})," Users"]}),(0,t.jsxs)(k.SP,{value:"companies",className:"gap-2",children:[(0,t.jsx)(A.Z,{className:"h-4 w-4"})," Companies"]}),(0,t.jsxs)(k.SP,{value:"coupons",className:"gap-2",children:[(0,t.jsx)(F.Z,{className:"h-4 w-4"})," Coupons"]}),(0,t.jsxs)(k.SP,{value:"plans",className:"gap-2",children:[(0,t.jsx)(U.Z,{className:"h-4 w-4"})," Plans"]})]}),(0,t.jsx)(k.nU,{value:"users",children:(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"User Management"}),(0,t.jsx)(d.SZ,{children:"Search and manage all platform users"})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(B.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.I,{placeholder:"Search by name, email, company name, or phone...",value:eP,onChange:e=>{eZ(e.target.value),ed(e=>({...e,page:1}))},className:"pl-10"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(o.Ph,{value:eF,onValueChange:e=>{eU(e),ed(e=>({...e,page:1}))},children:[(0,t.jsx)(o.i4,{className:"w-[130px]",children:(0,t.jsx)(o.ki,{placeholder:"Plan"})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"all",children:"All Plans"}),(0,t.jsx)(o.Ql,{value:"business",children:"Business"}),(0,t.jsx)(o.Ql,{value:"starter",children:"Starter"}),(0,t.jsx)(o.Ql,{value:"free_forever",children:"Admin Grant"}),(0,t.jsx)(o.Ql,{value:"none",children:"No Plan"})]})]}),(0,t.jsxs)(o.Ph,{value:eB,onValueChange:e=>{ez(e),ed(e=>({...e,page:1}))},children:[(0,t.jsx)(o.i4,{className:"w-[130px]",children:(0,t.jsx)(o.ki,{placeholder:"Status"})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"all",children:"All Status"}),(0,t.jsx)(o.Ql,{value:"active",children:"Active"}),(0,t.jsx)(o.Ql,{value:"trialing",children:"Trialing"}),(0,t.jsx)(o.Ql,{value:"past_due",children:"Past Due"}),(0,t.jsx)(o.Ql,{value:"canceled",children:"Canceled"}),(0,t.jsx)(o.Ql,{value:"none",children:"None"})]})]}),(0,t.jsxs)(o.Ph,{value:eR,onValueChange:e=>{eM(e),ed(e=>({...e,page:1}))},children:[(0,t.jsx)(o.i4,{className:"w-[130px]",children:(0,t.jsx)(o.ki,{placeholder:"Blocked"})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"all",children:"All"}),(0,t.jsx)(o.Ql,{value:"blocked",children:"Blocked"}),(0,t.jsx)(o.Ql,{value:"unblocked",children:"Unblocked"})]})]}),(0,t.jsxs)(o.Ph,{value:eT,onValueChange:e_,children:[(0,t.jsx)(o.i4,{className:"w-[130px]",children:(0,t.jsx)(o.ki,{placeholder:"Sort"})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"newest",children:"Newest"}),(0,t.jsx)(o.Ql,{value:"oldest",children:"Oldest"}),(0,t.jsx)(o.Ql,{value:"name",children:"Name"}),(0,t.jsx)(o.Ql,{value:"email",children:"Email"})]})]})]})]}),ee?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(z.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===x.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No users found"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,t.jsx)("div",{className:`p-4 rounded-lg border cursor-pointer hover:bg-accent/50 transition-colors ${e.isBlocked||e.company?.isBlocked?"bg-red-50 border-red-200":"bg-white"}`,onClick:()=>sw(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.email}),e.isBlocked&&(0,t.jsx)(C.C,{variant:"destructive",className:"text-xs",children:"Blocked"}),e.company?.isBlocked&&(0,t.jsx)(C.C,{variant:"destructive",className:"text-xs",children:"Company Blocked"}),sO(e),sL(e.billing?.status||null),e.billing?.currentCouponCode&&(0,t.jsxs)(C.C,{variant:"outline",className:"text-xs bg-yellow-50",children:[(0,t.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),e.billing.currentCouponCode]})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1 flex flex-wrap gap-x-4 gap-y-1",children:[(0,t.jsx)("span",{children:e.fullName||e.name||"No name"}),(0,t.jsx)("span",{children:e.company?.name||"No company"}),e.phone&&(0,t.jsxs)("span",{children:[(0,t.jsx)(M.Z,{className:"inline h-3 w-3 mr-1"}),e.phone]}),(0,t.jsxs)("span",{children:[(0,t.jsx)(T.Z,{className:"inline h-3 w-3 mr-1"}),"Joined ",(0,et.WU)(new Date(e.createdAt),"MMM d, yyyy")]})]})]}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),sw(e)},children:(0,t.jsx)(_.Z,{className:"h-4 w-4"})})]})},e.id))}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(ec.page-1)*ec.limit+1," to"," ",Math.min(ec.page*ec.limit,ec.totalCount)," of"," ",ec.totalCount," users"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ed(e=>({...e,page:e.page-1})),disabled:ec.page<=1,children:(0,t.jsx)(O.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"text-sm",children:["Page ",ec.page," of ",ec.totalPages]}),(0,t.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>ed(e=>({...e,page:e.page+1})),disabled:ec.page>=ec.totalPages,children:(0,t.jsx)(L.Z,{className:"h-4 w-4"})})]})]})]})]})]})}),(0,t.jsx)(k.nU,{value:"companies",children:(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Companies"})}),(0,t.jsx)(d.aY,{children:ee?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(z.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===g.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No companies found"}):(0,t.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,t.jsx)("div",{className:`p-4 rounded-lg border ${e.isBlocked?"bg-red-50 border-red-200":"bg-white"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),e.isBlocked&&(0,t.jsx)(C.C,{variant:"destructive",className:"text-xs",children:"Blocked"}),e.billing?.accessOverride&&(0,t.jsxs)(C.C,{className:"text-xs bg-purple-100 text-purple-800",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3 mr-1"}),"Admin Grant"]}),e.billing?.planKey&&(0,t.jsx)(C.C,{variant:"secondary",className:"text-xs capitalize",children:e.billing.planKey})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e._count.memberships," member",1!==e._count.memberships?"s":""," •"," ",e._count.boqs," BOQ",1!==e._count.boqs?"s":""," •"," ","Created ",(0,et.WU)(new Date(e.createdAt),"MMM d, yyyy")]}),e.isBlocked&&e.blockReason&&(0,t.jsxs)("div",{className:"text-sm text-red-600 mt-1",children:["Reason: ",e.blockReason]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>sA(e.id,e.name,!!e.billing?.accessOverride),children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),e.billing?.accessOverride?"Revoke":"Grant Free"]}),(0,t.jsx)(n.z,{variant:e.isBlocked?"outline":"destructive",size:"sm",onClick:()=>sC("company",e.id,e.name,e.isBlocked),children:e.isBlocked?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"})," Unblock"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"})," Block"]})})]})]})},e.id))})})]})}),(0,t.jsx)(k.nU,{value:"coupons",children:(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(d.ll,{children:"Promo Codes / Coupons"}),(0,t.jsxs)(n.z,{onClick:()=>st(!0),size:"sm",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 mr-2"})," Create Coupon"]})]}),(0,t.jsx)(d.aY,{children:ee?(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(z.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,t.jsx)("div",{className:"space-y-6",children:0===sT.length&&0===s_.length?(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No coupons created yet"}):(0,t.jsxs)(t.Fragment,{children:[sT.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Coupons"}),(0,t.jsx)("div",{className:"space-y-3",children:sT.map(e=>(0,t.jsx)(en,{coupon:e,onToggle:()=>sz(e),onArchive:()=>sR(e),onDelete:()=>sM(e)},e.id))})]}),s_.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Archived Coupons"}),(0,t.jsx)("div",{className:"space-y-3 opacity-60",children:s_.map(e=>(0,t.jsx)(en,{coupon:e,onToggle:()=>{},onArchive:()=>{},onDelete:()=>sM(e),isArchived:!0},e.id))})]})]})})})]})}),(0,t.jsx)(k.nU,{value:"plans",children:(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)($.Z,{className:"h-5 w-5"})," Billing Plans"]}),(0,t.jsx)(d.SZ,{children:"Manage pricing, quotas, and features. Price changes auto-create new Stripe prices."})]}),(0,t.jsx)(d.aY,{children:el?(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)(z.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===W.length?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No billing plans found. Run the seed script to create plans."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(e=>(0,t.jsxs)("div",{className:`p-6 rounded-xl border-2 ${e.active?"bg-white":"bg-gray-50 opacity-75"} ${e.isMostPopular?"border-primary":"border-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:e.name}),e.isMostPopular&&(0,t.jsx)(C.C,{className:"bg-primary text-white",children:"Most Popular"}),!e.active&&(0,t.jsx)(C.C,{variant:"secondary",children:"Inactive"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Key: ",(0,t.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:e.planKey}),"per_seat"===e.seatModel&&(0,t.jsx)(C.C,{variant:"outline",className:"ml-2 text-xs",children:"Per Seat"})]})]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>sx(e),className:"gap-1",children:[(0,t.jsx)(I.Z,{className:"h-3 w-3"})," Edit"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold",children:["$",(e.priceMonthlyUsdCents/100).toFixed(0),(0,t.jsx)("span",{className:"text-lg font-normal text-muted-foreground",children:"/mo"}),"per_seat"===e.seatModel&&(0,t.jsx)("span",{className:"text-sm font-normal text-muted-foreground",children:"/user"})]}),e.priceAnnualUsdCents&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["$",(e.priceAnnualUsdCents/100).toFixed(0),"/year","per_seat"===e.seatModel&&"/user"]})]}),(0,t.jsxs)("div",{className:"mb-4 text-sm space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"BOQ Limit:"}),(0,t.jsx)("span",{className:null===e.boqLimitPerPeriod?"text-green-600 font-medium":"",children:null===e.boqLimitPerPeriod?"Unlimited":`${e.boqLimitPerPeriod}/period`})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"BOQ Templates:"}),(0,t.jsx)("span",{className:null===e.boqTemplatesLimit?"text-green-600 font-medium":"",children:null===e.boqTemplatesLimit?"Unlimited":e.boqTemplatesLimit})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Cover Templates:"}),(0,t.jsx)("span",{className:null===e.coverTemplatesLimit?"text-green-600 font-medium":"",children:null===e.coverTemplatesLimit?"Unlimited":e.coverTemplatesLimit})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Features:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(e.features||[]).slice(0,5).map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(q.Z,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s)),(e.features||[]).length>5&&(0,t.jsxs)("li",{className:"text-xs text-muted-foreground",children:["+",(e.features||[]).length-5," more..."]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t text-xs text-muted-foreground space-y-1",children:[(0,t.jsxs)("div",{children:["Stripe Product: ",e.stripeProductId||"Not configured"]}),(0,t.jsxs)("div",{children:["Monthly Price ID: ",e.stripePriceIdMonthly||"Not configured"]}),(0,t.jsxs)("div",{children:["Annual Price ID: ",e.stripePriceIdAnnual||"Not configured"]}),(0,t.jsxs)("div",{children:["Sort Order: ",e.sortOrder]}),e.priceHistory&&e.priceHistory.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Price History:"}),(0,t.jsx)("ul",{className:"ml-2",children:e.priceHistory.slice(0,3).map(e=>(0,t.jsxs)("li",{children:["$",(e.amountCents/100).toFixed(0)," (",e.interval,") - ",(0,et.WU)(new Date(e.createdAt),"MMM d, yyyy"),e.isCurrent&&(0,t.jsx)(C.C,{className:"ml-1 text-xs",variant:"outline",children:"Current"})]},e.id))})]})]})]},e.id))})})]})})]}),(0,t.jsx)(m.Vq,{open:ex,onOpenChange:eu,children:(0,t.jsxs)(m.cZ,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsxs)(m.$N,{children:["Edit Plan: ",eo?.name]}),(0,t.jsx)(m.Be,{children:"Update pricing, quotas, and features. Price changes will create a new Stripe price."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Name"}),(0,t.jsx)(i.I,{value:ep.name,onChange:e=>eh(s=>({...s,name:e.target.value})),placeholder:"Plan name"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Monthly Price (USD cents)"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.I,{type:"number",value:ep.priceMonthlyUsdCents,onChange:e=>eh(s=>({...s,priceMonthlyUsdCents:parseInt(e.target.value)||0})),placeholder:"1900"})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["= $",(ep.priceMonthlyUsdCents/100).toFixed(2),"/mo"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Annual Price (USD cents)"}),(0,t.jsx)(i.I,{type:"number",value:ep.priceAnnualUsdCents,onChange:e=>eh(s=>({...s,priceAnnualUsdCents:""===e.target.value?"":parseInt(e.target.value)})),placeholder:"Leave empty if no annual"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["= $",ep.priceAnnualUsdCents?(Number(ep.priceAnnualUsdCents)/100).toFixed(2):"0.00","/yr"]})]})]}),eo&&(eo.priceMonthlyUsdCents!==ep.priceMonthlyUsdCents||(eo.priceAnnualUsdCents??"")!==ep.priceAnnualUsdCents)&&(0,t.jsx)("p",{className:"text-xs text-amber-600",children:"⚠️ Changing price will create new Stripe price(s). Existing subscribers keep their current price."}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"BOQ Limit/Period"}),(0,t.jsx)(i.I,{type:"number",value:ep.boqLimitPerPeriod,onChange:e=>eh(s=>({...s,boqLimitPerPeriod:""===e.target.value?"":parseInt(e.target.value)})),placeholder:"∞"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Empty = unlimited"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"BOQ Templates"}),(0,t.jsx)(i.I,{type:"number",value:ep.boqTemplatesLimit,onChange:e=>eh(s=>({...s,boqTemplatesLimit:""===e.target.value?"":parseInt(e.target.value)})),placeholder:"∞"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Empty = unlimited"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Cover Templates"}),(0,t.jsx)(i.I,{type:"number",value:ep.coverTemplatesLimit,onChange:e=>eh(s=>({...s,coverTemplatesLimit:""===e.target.value?"":parseInt(e.target.value)})),placeholder:"∞"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Empty = unlimited"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Sort Order"}),(0,t.jsx)(i.I,{type:"number",value:ep.sortOrder,onChange:e=>eh(s=>({...s,sortOrder:parseInt(e.target.value)||0}))})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-end gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.X,{id:"plan-active",checked:ep.active,onCheckedChange:e=>eh(s=>({...s,active:!0===e}))}),(0,t.jsx)(c._,{htmlFor:"plan-active",children:"Active (visible on pricing)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.X,{id:"plan-popular",checked:ep.isMostPopular,onCheckedChange:e=>eh(s=>({...s,isMostPopular:!0===e}))}),(0,t.jsx)(c._,{htmlFor:"plan-popular",children:"Most Popular badge"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(c._,{children:["Features ",(0,t.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"(drag to reorder, click to edit)"})]}),(0,t.jsxs)("div",{className:"space-y-1 mt-2",children:[ep.features.map((e,s)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:()=>sj(s),onDragOver:e=>sf(e,s),onDragEnd:sg,className:`flex items-center gap-2 group ${eN===s?"opacity-50 bg-primary/10":""}`,children:[(0,t.jsx)("div",{className:"cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground",children:(0,t.jsx)(Q.Z,{className:"h-4 w-4"})}),eb===s?(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,t.jsx)(i.I,{value:eC,onChange:e=>ek(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),sN()),"Escape"===e.key&&sy()},autoFocus:!0,className:"h-8 text-sm"}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",size:"sm",onClick:sN,children:(0,t.jsx)(q.Z,{className:"h-4 w-4 text-green-600"})}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",size:"sm",onClick:sy,children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"flex-1 text-sm bg-gray-50 px-3 py-2 rounded cursor-pointer hover:bg-gray-100",onClick:()=>sv(s),children:e}),(0,t.jsx)(n.z,{type:"button",variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>sh(s),children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})]},s)),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("div",{className:"w-4"})," ",(0,t.jsx)(i.I,{value:ej,onChange:e=>ef(e.target.value),placeholder:"Add a feature...",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),sp()),className:"flex-1"}),(0,t.jsx)(n.z,{type:"button",variant:"outline",size:"sm",onClick:sp,children:(0,t.jsx)(E.Z,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>eu(!1),children:"Cancel"}),(0,t.jsxs)(n.z,{onClick:su,disabled:eg,children:[eg?(0,t.jsx)(z.Z,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})}),(0,t.jsx)(j,{open:eq,onOpenChange:eQ,children:(0,t.jsxs)(N,{className:"w-full sm:max-w-xl overflow-y-auto",children:[(0,t.jsxs)(y,{children:[(0,t.jsx)(b,{children:"User Details"}),(0,t.jsx)(w,{children:eO?.email})]}),e$?(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)(z.Z,{className:"h-6 w-6 animate-spin"})}):eD?(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4"})," Profile"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Name:"})," ",eD.user.fullName||eD.user.name||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Email:"})," ",eD.user.email]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Phone:"})," ",eD.user.phone||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Joined:"})," ",(0,et.WU)(new Date(eD.user.createdAt),"MMM d, yyyy")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Last Login:"})," ",eD.user.lastLoginAt?(0,et.WU)(new Date(eD.user.lastLoginAt),"MMM d, yyyy HH:mm"):"Never"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),eD.user.isBlocked?(0,t.jsx)(C.C,{variant:"destructive",children:"Blocked"}):(0,t.jsx)(C.C,{variant:"outline",children:"Active"})]})]}),eD.user.blockReason&&(0,t.jsxs)("p",{className:"text-sm text-red-600",children:["Block Reason: ",eD.user.blockReason]})]}),eD.company&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"h-4 w-4"})," Company"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Name:"})," ",eD.company.name]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Members:"})," ",eD.company.memberCount]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"BOQs:"})," ",eD.company.boqCount]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),eD.company.isBlocked?(0,t.jsx)(C.C,{variant:"destructive",children:"Blocked"}):(0,t.jsx)(C.C,{variant:"outline",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4"})," Billing"]}),eD.billing?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Plan:"}),eD.billing.accessOverride?(0,t.jsxs)(C.C,{className:"bg-purple-100 text-purple-800",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3 mr-1"}),"Admin Grant (",eD.billing.overridePlan||"business",")"]}):(0,t.jsx)(C.C,{variant:"secondary",className:"capitalize",children:eD.billing.planKey||"None"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),sL(eD.billing.status)]}),eD.billing.stripeCustomerId&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Stripe Customer:"})," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1 rounded",children:eD.billing.stripeCustomerId})]}),eD.billing.stripeSubscriptionId&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Stripe Subscription:"})," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1 rounded",children:eD.billing.stripeSubscriptionId})]}),eD.billing.currentCouponCode&&(0,t.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Active Coupon:"}),(0,t.jsxs)(C.C,{variant:"outline",className:"bg-yellow-50",children:[(0,t.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),eD.billing.currentCouponCode]}),(0,t.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>sU(eD.company.id),children:[(0,t.jsx)(p.Z,{className:"h-3 w-3"})," Remove"]})]}),eD.billing.currentPeriodEnd&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Period Ends:"})," ",(0,et.WU)(new Date(eD.billing.currentPeriodEnd),"MMM d, yyyy")]})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No billing information"})]}),eD.invoices.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(G.Z,{className:"h-4 w-4"})," Payment History"]}),(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:eD.invoices.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium",children:["$",(e.amountPaid/100).toFixed(2)," ",e.currency.toUpperCase()]}),(0,t.jsx)("span",{className:"mx-2",children:"•"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:(0,et.WU)(new Date(e.createdAt),"MMM d, yyyy")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.C,{variant:"outline",className:"text-xs capitalize",children:e.status}),e.hostedInvoiceUrl&&(0,t.jsx)("a",{href:e.hostedInvoiceUrl,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(K.Z,{className:"h-3 w-3 text-muted-foreground"})})]})]},e.id))})]}),eD.couponRedemptions.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,t.jsx)(R.Z,{className:"h-4 w-4"})," Coupon History"]}),(0,t.jsx)("div",{className:"space-y-2",children:eD.couponRedemptions.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("code",{className:"font-bold text-primary bg-primary/10 px-2 py-0.5 rounded",children:e.couponCode}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"free_forever"===e.couponType?"Free Forever":"Trial"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,et.WU)(new Date(e.redeemedAt),"MMM d, yyyy")}),e.revokedAt&&(0,t.jsx)(C.C,{variant:"destructive",className:"text-xs",children:"Revoked"})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(n.z,{variant:eD.user.isBlocked?"outline":"destructive",size:"sm",onClick:()=>sC("user",eD.user.id,eD.user.email,eD.user.isBlocked),children:eD.user.isBlocked?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"})," Unblock User"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"})," Block User"]})}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>sP(eO),children:[(0,t.jsx)(J.Z,{className:"h-4 w-4 mr-2"})," Password Reset"]}),eD.company&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>sA(eD.company.id,eD.company.name,!!eD.billing?.accessOverride),children:[(0,t.jsx)(P.Z,{className:"h-4 w-4 mr-2"}),eD.billing?.accessOverride?"Revoke Free Access":"Grant Free Access"]}),(0,t.jsx)(n.z,{variant:eD.company.isBlocked?"outline":"destructive",size:"sm",onClick:()=>sC("company",eD.company.id,eD.company.name,eD.company.isBlocked),children:eD.company.isBlocked?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 mr-2"})," Unblock Company"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"})," Block Company"]})})]})]})]})]}):null]})}),(0,t.jsx)(m.Vq,{open:eV,onOpenChange:eG,children:(0,t.jsxs)(m.cZ,{children:[(0,t.jsx)(m.fK,{children:(0,t.jsxs)(m.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"h-5 w-5 text-yellow-500"}),eK?.isBlocked?"Unblock":"Block"," ",eK?.type==="company"?"Company":"User"]})}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:eK?.isBlocked?`Are you sure you want to unblock "${eK?.name}"?`:`Are you sure you want to block "${eK?.name}"? They will lose access to all /app/* pages.`}),!eK?.isBlocked&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"blockReason",children:"Block Reason (optional)"}),(0,t.jsx)(i.I,{id:"blockReason",value:eY,onChange:e=>eH(e.target.value),placeholder:"e.g., Abuse, Non-payment",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.X,{id:"cancelSub",checked:eW,onCheckedChange:e=>eX(e)}),(0,t.jsx)(c._,{htmlFor:"cancelSub",className:"font-normal cursor-pointer",children:"Cancel Stripe subscription immediately"})]})]})]}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>eG(!1),children:"Cancel"}),(0,t.jsx)(n.z,{variant:eK?.isBlocked?"default":"destructive",onClick:sk,children:eK?.isBlocked?"Unblock":"Block"})]})]})}),(0,t.jsx)(m.Vq,{open:e0,onOpenChange:e4,children:(0,t.jsxs)(m.cZ,{children:[(0,t.jsxs)(m.fK,{children:[(0,t.jsxs)(m.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(J.Z,{className:"h-5 w-5"})," Password Reset Options"]}),(0,t.jsx)(m.Be,{children:"For security, passwords cannot be viewed. Use these options to help the user reset their password."})]}),(0,t.jsxs)("div",{className:"py-4 space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-2",children:["User: ",e1?.email]}),e1?.forcePasswordReset&&(0,t.jsx)(C.C,{variant:"outline",className:"text-yellow-700 bg-yellow-50",children:"Force Reset Enabled"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(n.z,{variant:"outline",className:"w-full justify-start",onClick:()=>sZ("generate_link"),children:[(0,t.jsx)(H.Z,{className:"h-4 w-4 mr-2"})," Generate Reset Link"]}),e3&&(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded text-sm",children:[(0,t.jsx)("p",{className:"text-green-800 mb-2",children:"Reset link generated:"}),(0,t.jsx)("code",{className:"block text-xs bg-white p-2 rounded break-all",children:e3}),(0,t.jsxs)(n.z,{size:"sm",variant:"outline",className:"mt-2",onClick:()=>sS(e3),children:[(0,t.jsx)(H.Z,{className:"h-3 w-3 mr-2"})," Copy"]})]}),(0,t.jsx)(n.z,{variant:"outline",className:"w-full justify-start",onClick:()=>sZ(e1?.forcePasswordReset?"clear_force_reset":"force_reset"),children:e1?.forcePasswordReset?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"})," Clear Force Reset Flag"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y.Z,{className:"h-4 w-4 mr-2"})," Force Reset on Next Login"]})})]})]}),(0,t.jsx)(m.cN,{children:(0,t.jsx)(n.z,{variant:"outline",onClick:()=>e4(!1),children:"Close"})})]})}),(0,t.jsx)(m.Vq,{open:e6,onOpenChange:e8,children:(0,t.jsxs)(m.cZ,{children:[(0,t.jsx)(m.fK,{children:(0,t.jsxs)(m.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"h-5 w-5 text-purple-500"}),e9?.hasGrant?"Revoke":"Grant"," Free Access"]})}),(0,t.jsx)("div",{className:"py-4",children:e9?.hasGrant?(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Are you sure you want to revoke free access for ",(0,t.jsx)("strong",{children:e9?.companyName}),"? They will need to subscribe to regain access."]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Grant free access to ",(0,t.jsx)("strong",{children:e9?.companyName}),". This will override any existing subscription."]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"freeForeverPlan",children:"Access Level"}),(0,t.jsxs)(o.Ph,{value:se,onValueChange:e=>ss(e),children:[(0,t.jsx)(o.i4,{className:"mt-1",children:(0,t.jsx)(o.ki,{})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"business",children:"Business (Unlimited BOQs)"}),(0,t.jsx)(o.Ql,{value:"starter",children:"Starter (10 BOQs/month)"})]})]})]})]})}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>e8(!1),children:"Cancel"}),(0,t.jsx)(n.z,{onClick:sF,children:e9?.hasGrant?"Revoke Access":"Grant Free Access"})]})]})}),(0,t.jsx)(m.Vq,{open:sa,onOpenChange:st,children:(0,t.jsxs)(m.cZ,{children:[(0,t.jsx)(m.fK,{children:(0,t.jsx)(m.$N,{children:"Create New Coupon"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"code",children:"Coupon Code"}),(0,t.jsx)(i.I,{id:"code",value:sr.code,onChange:e=>sl(s=>({...s,code:e.target.value.toUpperCase()})),placeholder:"e.g., TRIAL14, FREEFOREVER",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"type",children:"Coupon Type"}),(0,t.jsxs)(o.Ph,{value:sr.type,onValueChange:e=>sl(s=>({...s,type:e})),children:[(0,t.jsx)(o.i4,{className:"mt-1",children:(0,t.jsx)(o.ki,{})}),(0,t.jsxs)(o.Bw,{children:[(0,t.jsx)(o.Ql,{value:"trial_days",children:"Trial Days"}),(0,t.jsx)(o.Ql,{value:"free_forever",children:"Free Forever"})]})]})]}),"trial_days"===sr.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"trialDays",children:"Trial Days"}),(0,t.jsx)(i.I,{id:"trialDays",type:"number",min:"1",max:"365",value:sr.trialDays,onChange:e=>sl(s=>({...s,trialDays:parseInt(e.target.value)||14})),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{children:"Allowed Plans (optional)"}),(0,t.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(er.X,{checked:sr.allowedPlans.includes("starter"),onCheckedChange:e=>{sl(s=>({...s,allowedPlans:e?[...s.allowedPlans,"starter"]:s.allowedPlans.filter(e=>"starter"!==e)}))}}),(0,t.jsx)("span",{className:"text-sm",children:"Starter"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(er.X,{checked:sr.allowedPlans.includes("advance"),onCheckedChange:e=>{sl(s=>({...s,allowedPlans:e?[...s.allowedPlans,"advance"]:s.allowedPlans.filter(e=>"advance"!==e)}))}}),(0,t.jsx)("span",{className:"text-sm",children:"Advance"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)(er.X,{checked:sr.allowedPlans.includes("business"),onCheckedChange:e=>{sl(s=>({...s,allowedPlans:e?[...s.allowedPlans,"business"]:s.allowedPlans.filter(e=>"business"!==e)}))}}),(0,t.jsx)("span",{className:"text-sm",children:"Business"})]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave unchecked for all plans"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"maxRedemptions",children:"Max Redemptions (optional)"}),(0,t.jsx)(i.I,{id:"maxRedemptions",type:"number",min:"1",value:sr.maxRedemptions,onChange:e=>sl(s=>({...s,maxRedemptions:e.target.value})),placeholder:"Leave empty for unlimited",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"expiresAt",children:"Expiration Date (optional)"}),(0,t.jsx)(i.I,{id:"expiresAt",type:"date",value:sr.expiresAt,onChange:e=>sl(s=>({...s,expiresAt:e.target.value})),className:"mt-1"})]})]}),(0,t.jsxs)(m.cN,{children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>st(!1),children:"Cancel"}),(0,t.jsxs)(n.z,{onClick:sB,disabled:sn,children:[sn&&(0,t.jsx)(z.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Coupon"]})]})]})})]})})}function en({coupon:e,onToggle:s,onArchive:a,onDelete:r,isArchived:l=!1}){return(0,t.jsxs)("div",{className:"p-4 rounded-lg border bg-white flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"font-bold text-primary bg-primary/10 px-2 py-0.5 rounded",children:e.code}),(0,t.jsx)(C.C,{variant:"free_forever"===e.type?"default":"secondary",className:"text-xs",children:"free_forever"===e.type?"Free Forever":`${e.trialDays} Day Trial`}),!e.active&&!l&&(0,t.jsx)(C.C,{variant:"outline",className:"text-xs",children:"Disabled"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e.allowedPlans.length>0?`For ${e.allowedPlans.map(e=>"starter"===e?"Starter":"advance"===e?"Advance":"Business").join(", ")}`:"All plans"," ","• Used ",e.currentRedemptions,e.maxRedemptions?`/${e.maxRedemptions}`:""," times",e.expiresAt&&` • Expires ${(0,et.WU)(new Date(e.expiresAt),"MMM d, yyyy")}`]})]}),!l&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:s,title:e.active?"Disable":"Enable",children:e.active?(0,t.jsx)(W.Z,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(X.Z,{className:"h-5 w-5 text-muted-foreground"})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:a,title:"Archive",children:(0,t.jsx)(ee.Z,{className:"h-4 w-4 text-muted-foreground"})}),0===e.currentRedemptions&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:r,title:"Delete",children:(0,t.jsx)(es.Z,{className:"h-4 w-4 text-red-500"})})]}),l&&0===e.currentRedemptions&&(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:r,title:"Delete",children:(0,t.jsx)(es.Z,{className:"h-4 w-4 text-red-500"})})]})}},1335:function(e,s,a){"use strict";a.d(s,{C:function(){return i}});var t=a(5444);a(9300);var r=a(2371),l=a(5522);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...a}){return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),e),...a})}},6167:function(e,s,a){"use strict";a.d(s,{X:function(){return c}});var t=a(5444),r=a(9300),l=a(1831),n=a(7248),i=a(5522);let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.fC,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(l.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})}));c.displayName=l.fC.displayName},489:function(e,s,a){"use strict";a.d(s,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return j},i4:function(){return x},ki:function(){return m}});var t=a(5444),r=a(9300),l=a(3280),n=a(3751),i=a(6997),c=a(7248),d=a(5522);let o=l.fC;l.ZA;let m=l.B4,x=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,t.jsx)(l.JO,{asChild:!0,children:(0,t.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let u=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})}));u.displayName=l.u_.displayName;let p=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})}));p.displayName=l.$G.displayName;let h=r.forwardRef(({className:e,children:s,position:a="popper",...r},n)=>(0,t.jsx)(l.h_,{children:(0,t.jsxs)(l.VY,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[(0,t.jsx)(u,{}),(0,t.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(p,{})]})}));h.displayName=l.VY.displayName,r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=l.__.displayName;let j=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-md py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.wU,{children:(0,t.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(l.eT,{children:s})]}));j.displayName=l.ck.displayName,r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},6765:function(e,s,a){"use strict";a.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return i},nU:function(){return o}});var t=a(5444),r=a(9300),l=a(9035),n=a(5522);let i=l.fC,c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.aV,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=l.aV.displayName;let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.xz,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=l.xz.displayName;let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.VY,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=l.VY.displayName}},function(e){e.O(0,[762,162,853,512,984,233,523,569,629,386,156,744],function(){return e(e.s=5822)}),_N_E=e.O()}]);