(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13968:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(28369),r(83336),r(71363);var s=r(36576),a=r(72007),i=r(21818),n=r.n(i),l=r(88897),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,28369)),"/home/ubuntu/make_estimate/nextjs_space/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,83336)),"/home/ubuntu/make_estimate/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71363,23)),"next/dist/client/components/not-found-error"]}],c=["/home/ubuntu/make_estimate/nextjs_space/app/register/page.tsx"],u="/register/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41827:(e,t,r)=>{Promise.resolve().then(r.bind(r,37022))},77702:(e,t,r)=>{Promise.resolve().then(r.bind(r,46618))},87133:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,84114,23)),Promise.resolve().then(r.t.bind(r,28866,23)),Promise.resolve().then(r.t.bind(r,31324,23)),Promise.resolve().then(r.t.bind(r,83567,23)),Promise.resolve().then(r.t.bind(r,55996,23)),Promise.resolve().then(r.t.bind(r,10050,23))},37022:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(62901),a=r(24383),i=r(84700),n=r(84374),l=r(62392),o=r(27878),d=r(250),c=r(82657),u=r(23803),m=r(14454),p=r(10333),h=r(76244),x=r(85453),f=r(32317),g=r(39350);let v={free:{name:"Free Forever",price:"$0",features:["Unlimited BOQ creations","15 items per BOQ","PDF exports with watermark"],isFree:!0},starter:{name:"Starter",price:"$19/month",features:["5 BOQ creations per month","PDF export with themes","Custom cover pages"]},advance:{name:"Advance",price:"$39/month",features:["Unlimited BOQ creations","PDF export with themes","10 BOQ templates"]},business:{name:"Business",price:"$49/user/month",features:["Unlimited everything","Team collaboration","Priority support"]}};function j(){let[e,t]=(0,a.useState)(""),[r,j]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[P,k]=(0,a.useState)(""),[_,C]=(0,a.useState)(!1),[S,Z]=(0,a.useState)(!1),F=(0,n.useRouter)(),R=(0,n.useSearchParams)(),{data:A,status:E}=(0,i.useSession)()||{},z=R?.get("plan")||null,D=z?v[z]:null,O=async e=>{Z(!0);try{let t=await fetch("/api/billing/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planKey:e})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to create checkout session");if(r.freePlanActivated){g.ZP.success("Free plan activated! Redirecting..."),F.push(r.url);return}if(r.grantCreated){g.ZP.success("trial"===r.grantType?"Trial activated! Redirecting...":"Access granted! Redirecting..."),F.push(r.url);return}if(!r.url||"string"!=typeof r.url||!r.url.startsWith("https://"))throw console.error("Invalid checkout URL received:",r.url),Error("Invalid checkout URL received from server");window.open(r.url,"_blank")}catch(e){console.error("Checkout error:",e),g.ZP.error(e instanceof Error?e.message:"Failed to start checkout. Please try again."),Z(!1)}},q=async t=>{t.preventDefault(),C(!0);try{let t=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:N,companyName:P,firstName:e,lastName:r})}),s=await t.json();if(!t.ok){g.ZP.error(s?.error||"Failed to create account"),C(!1);return}let a=await (0,i.signIn)("credentials",{email:b,password:N,redirect:!1});if(a?.error){g.ZP.error("Account created but failed to sign in"),F.replace("/login");return}g.ZP.success("Account created successfully!"),z?setTimeout(()=>{O(z)},500):F.replace("/pricing?subscription=required")}catch(e){g.ZP.error("An error occurred. Please try again."),C(!1)}};return"loading"===E||S?(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gradient-hero",children:[s.jsx(p.Z,{className:"h-8 w-8 animate-spin text-purple-500 mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:S?"Redirecting to checkout...":"Loading..."})]}):(0,s.jsxs)("div",{className:"min-h-screen gradient-hero",children:[s.jsx(m.X,{}),s.jsx("div",{className:"pt-24 pb-12 px-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-full max-w-lg space-y-6",children:[D&&s.jsx(u.Zb,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50/50 to-lavender-50/50",children:(0,s.jsxs)(u.aY,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-lavender-500 rounded-lg flex items-center justify-center",children:s.jsx(h.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("p",{className:"font-semibold text-foreground",children:["Selected Plan: ",D.name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.price})]})]}),s.jsx("div",{className:"mt-3 pl-13",children:s.jsx("ul",{className:"space-y-1",children:D.features.slice(0,2).map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(x.Z,{className:"w-4 h-4 text-purple-500"}),e]},e))})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:D.isFree?"No payment required. Start using MakeEstimate immediately after signup.":"You'll be taken to secure payment after creating your account."})})]})}),(0,s.jsxs)(u.Zb,{className:"shadow-xl border border-purple-100/50",children:[(0,s.jsxs)(u.Ol,{className:"text-center pb-2",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-lavender-500 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(f.Z,{className:"w-8 h-8 text-white"})})}),s.jsx(u.ll,{className:"text-2xl font-bold gradient-text",children:"Create Your Account"}),s.jsx(u.SZ,{className:"text-muted-foreground",children:z?"Complete registration to continue to payment":"Start creating professional BOQs in minutes"})]}),(0,s.jsxs)(u.aY,{children:[(0,s.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"firstName",children:"First Name"}),s.jsx(d.I,{id:"firstName",type:"text",placeholder:"John",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"lastName",children:"Last Name"}),s.jsx(d.I,{id:"lastName",type:"text",placeholder:"Doe",value:r,onChange:e=>j(e.target.value),required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"companyName",children:"Company Name"}),s.jsx(d.I,{id:"companyName",type:"text",placeholder:"Enter your company name",value:P,onChange:e=>k(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"email",children:"Email"}),s.jsx(d.I,{id:"email",type:"email",placeholder:"john@company.com",value:b,onChange:e=>y(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"password",children:"Password"}),s.jsx(d.I,{id:"password",type:"password",placeholder:"Create a password (min 6 characters)",value:N,onChange:e=>w(e.target.value),required:!0,minLength:6})]}),s.jsx(o.z,{type:"submit",className:"w-full",disabled:_,children:_?(0,s.jsxs)(s.Fragment,{children:[s.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):z?"Create Account & Continue to Payment":"Create Account"})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),s.jsx(l.default,{href:"/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]}),!z&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx(l.default,{href:"/pricing",className:"text-sm text-cyan-600 hover:underline",children:"View pricing plans"})})]})]})]})})]})}function b(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-cyan-50 to-teal-50",children:s.jsx(p.Z,{className:"h-8 w-8 animate-spin text-primary"})}),children:s.jsx(j,{})})}},46618:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>n});var s=r(62901),a=r(84700),i=r(39350);function n({children:e}){return(0,s.jsxs)(a.SessionProvider,{children:[e,s.jsx(i.x7,{position:"top-right"})]})}},14454:(e,t,r)=>{"use strict";r.d(t,{X:()=>p});var s=r(62901),a=r(62392),i=r(84700),n=r(27878),l=r(32317),o=r(42594),d=r(22857),c=r(24383),u=r(68637);let m=[{name:"Features",href:"/#features"},{name:"Pricing",href:"/pricing"}];function p(){let{data:e}=(0,i.useSession)()||{},[t,r]=(0,c.useState)(!1),[p,h]=(0,c.useState)(!1);return s.jsx("header",{className:(0,u.cn)("fixed top-0 left-0 right-0 z-50 transition-all duration-300",p?"bg-white/90 backdrop-blur-lg border-b border-purple-100/50 shadow-sm":"bg-transparent"),children:(0,s.jsxs)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)(a.default,{href:"/",className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-lavender-500 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(l.Z,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-lg font-bold gradient-text",children:"MakeEstimate"})]}),s.jsx("div",{className:"hidden md:flex items-center space-x-8",children:m.map(e=>s.jsx(a.default,{href:e.href,className:"text-gray-600 hover:text-purple-600 transition-colors duration-200 font-medium",children:e.name},e.name))}),s.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?s.jsx(a.default,{href:"/app/dashboard",children:s.jsx(n.z,{children:"Go to Dashboard"})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.default,{href:"/login",children:s.jsx(n.z,{variant:"ghost",className:"text-gray-700",children:"Login"})}),s.jsx(a.default,{href:"/register",children:s.jsx(n.z,{children:"Get Started"})})]})}),s.jsx("button",{className:"md:hidden p-2 rounded-xl hover:bg-purple-50 transition-colors",onClick:()=>r(!t),children:t?s.jsx(o.Z,{className:"h-6 w-6 text-gray-600"}):s.jsx(d.Z,{className:"h-6 w-6 text-gray-600"})})]}),s.jsx("div",{className:(0,u.cn)("md:hidden overflow-hidden transition-all duration-300",t?"max-h-96 pb-4":"max-h-0"),children:(0,s.jsxs)("div",{className:"flex flex-col space-y-3 pt-4",children:[m.map(e=>s.jsx(a.default,{href:e.href,className:"text-gray-600 hover:text-purple-600 transition-colors font-medium py-2",onClick:()=>r(!1),children:e.name},e.name)),s.jsx("div",{className:"pt-4 flex flex-col space-y-3",children:e?s.jsx(a.default,{href:"/app/dashboard",children:s.jsx(n.z,{className:"w-full",children:"Go to Dashboard"})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.default,{href:"/login",children:s.jsx(n.z,{variant:"outline",className:"w-full",children:"Login"})}),s.jsx(a.default,{href:"/register",children:s.jsx(n.z,{className:"w-full",children:"Get Started"})})]})})]})})]})})}},27878:(e,t,r)=>{"use strict";r.d(t,{d:()=>o,z:()=>d});var s=r(62901),a=r(24383),i=r(42049),n=r(47279),l=r(68637);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-purple-500 to-lavender-500 text-white shadow-md hover:shadow-lg hover:from-purple-600 hover:to-lavender-600 active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:scale-[0.98]",outline:"border-2 border-purple-200 bg-white text-purple-700 hover:bg-purple-50 hover:border-purple-300 active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 active:scale-[0.98]",ghost:"text-foreground hover:bg-purple-100/50 hover:text-purple-700 active:scale-[0.98]",link:"text-purple-600 underline-offset-4 hover:underline hover:text-purple-700",success:"bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-sm hover:from-emerald-600 hover:to-green-600 active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},d)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,l.cn)(o({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},23803:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>o});var s=r(62901),a=r(24383),i=r(68637);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-2xl border border-purple-100/50 bg-white shadow-card transition-all duration-200","hover:shadow-card-hover",e),...t}));n.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-xl font-semibold leading-none tracking-tight text-foreground",e),...t}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},250:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(62901),a=r(24383),i=r(68637);let n=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-11 w-full rounded-xl border-2 border-purple-100 bg-white px-4 py-2 text-sm text-foreground transition-all duration-200","placeholder:text-muted-foreground","hover:border-purple-200","focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-100","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-muted","file:border-0 file:bg-transparent file:text-sm file:font-medium",e),ref:a,...r}));n.displayName="Input"},82657:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(62901),a=r(24383),i=r(8388),n=r(47279),l=r(68637);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,l.cn)(o(),e),...t}));d.displayName=i.f.displayName},68637:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(84330),a=r(77189);function i(...e){return(0,a.m6)((0,s.W)(e))}},85453:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},76244:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},10333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},22857:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},42594:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(71945).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},84374:(e,t,r)=>{"use strict";var s=r(75229);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},83336:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>l,metadata:()=>o});var s=r(83537),a=r(57416),i=r.n(a);r(26148);let n=(0,r(88895).createProxy)(String.raw`/home/ubuntu/make_estimate/nextjs_space/components/auth-provider.tsx#AuthProvider`),l="force-dynamic",o={title:"MakeEstimate — Fast BOQs, Professional PDFs",description:"Create professional Bills of Quantities in minutes. No Excel, no spreadsheets — just fast estimation with clean PDF exports.",icons:{icon:"/favicon.svg",shortcut:"/favicon.svg"},openGraph:{title:"MakeEstimate — Fast BOQs, Professional PDFs",description:"Create professional Bills of Quantities in minutes. No Excel, no spreadsheets — just fast estimation with clean PDF exports.",images:["/og-image.png"]},metadataBase:new URL(process.env.NEXTAUTH_URL||"http://localhost:3000")};function d({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[s.jsx("head",{children:s.jsx("script",{src:"https://apps.abacus.ai/chatllm/appllm-lib.js"})}),s.jsx("body",{className:i().className,children:s.jsx(n,{children:e})})]})}},28369:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(88895).createProxy)(String.raw`/home/ubuntu/make_estimate/nextjs_space/app/register/page.tsx#default`)},26148:()=>{},8388:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var s=r(24383),a=r(74132),i=r(62901),n=s.forwardRef((e,t)=>(0,i.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n},74132:(e,t,r)=>{"use strict";r.d(t,{WV:()=>l,jH:()=>o});var s=r(24383),a=r(8361),i=r(42049),n=r(62901),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,l=s?i.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4372,1303,1263,2116],()=>r(13968));module.exports=s})();